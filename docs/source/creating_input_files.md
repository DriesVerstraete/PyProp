# Input Files
The basic input for MachUp contains a JSON object which describes the scene and which aircraft are in the scene, along with the state of those aircraft in the scene. A separate JSON object is used to specify the geometry and controls of each aircraft. These aircraft objects can reference other files that store information on airfoil properties, chord distributions, sweep, etc., as will be discussed. At a minimum, two JSON objects will be created by the user, a scene object and an aircraft object. These objects can be passed to MachUpX either as a .json file (this is the only way if MachUpX is being used through the command line) or as a Python dictionary, which is directly analagous to a .json file.

## JSON Format
The basic structure of a JSON object is a set of key-value pairs, analogous to a Python dictionary. Examples can be found in the examples/ directory. The following sections describe the structure of the JSON objects used to interface with MachUp. Only one JSON object is specified per .json file. When using the JSON objects, only the scene object is passed to MachUp. As long as the paths to all other JSON objects are properly specified in the scene object, MachUp will automatically load all other required objects.

## Units
MachUp allows the user to specify the units for each value if they desire. For float values, this is done by making the value a list where the first element is the actual value and the second element is a string specifying the units. For example:

    "area" : [6.75, "ft^2"]

For vector inputs, such as position and velocity, the units are simply appended to the vector:

    "velocity" : [100.0, 13.0, 0.0, "ft/s"]

For array inputs, such as a density profile or chord distribution, the units are appended as another row in the array:

    "rho" : [[0.0, 1.225],
             [2000.0, 1.0066],
             [4000.0, 0.81935],
             ["m", "kg/m^3"]]

When specifying column units in files, these are also appended as another row:

    # File: density_profile.csv
    0.0, 1.225
    2000.0, 1.0066
    4000.0, 0.81935
    "m", "kg/m^3"

The following measurements can be defined with the accompanying units:

| Measurement                   | Acceptable Units                  |
| ----------------------------- | --------------------------------- |
| Position/displacement/length: | "ft", "m", "in", "cm"             |
| Area:                         | "ft^2", "m^2"                     |
| Velocity:                     | "ft/s", "m/s", "mph", "kph", "kn" |
| Angular deflection/position:  | "deg", "rad"                      |
| Angular rate:                 | "deg/s", "rad/s"                  |
| Density:                      | "slug/ft^3", "kg/m^3"             |
| Weight/Force:                 | "lbf", "N"                        |
| Moment:                       | "ft lbf", "Nm"                    |
*Units must be given exactly as they appear in this table. Otherwise, MachUpX will not recognize the unit specification.*

Except for angular measurements, the first unit listed is the default for "English" units. The second is the default for "SI". For angular measurements of state and control deflections, as well as airframe geometry, the default is always degrees. For airfoil parameters, measurements may only be expressed in radians. When specifying units in an array and one of the measurements is dimensionless (e.g. span fraction), "-" should be used. Any results generated by MachUpX will be output in the default unit for the given system, regardless of how units were specified for the inputs.

## Coordinate Systems
MachUpX can accept inputs and output certain information in the wind and stability frames, along with the body frame. An aircraft's angular rate vector can be specified in the body, stability, or wind frame. In conjunction with this, MachUpX will calculate damping derivatives with respect to the frame the angular rates were originally specified in. Also, MachUpX can output forces an moments in any of these three frames.

## Scene Object
The following are keys which can be specified in the scene JSON object. NOTE: all keys not marked as optional are required. Key names typed in all capitals between carats (e.g. <KEY_VALUE>) are to be deterimined by the user.

>**"tag" : string, optional**
>>A note on the specific input. Does not affect execution.
>>
>**"run" : dict, optional**
>>Gives the analyses MachUp is to run. This must be specified if the input file is being passed as a command line argument to MachUp. Otherwise, MachUp will return without performing any calculations. **If the input file is used to initialize the Scene class within a script, rather than being passed as a command line argument, this set of run commands will be ignored.**
>>
>>The outputs from the analyses will be stored in files automatically.If no filename is given by the user, MachUpX will automatically specify a filename based on the name of the input file. This means that all output files will be stored in the same directory as the input file, with the exception of .stp and .dxf files.
>>
>>**"solve_forces" : dict, optional**
>>>Calculates the aerodynamic forces and moments on the aircraft at the current state.
>>>
>>>**"filename" : string, optional**
>>>>File to store the results in. Defaults to the input filename + "_forces".
>>>
>>>**"dimensional" : boolean, optional**
>>>>Whether results should include dimensional forces and moments. Defaults to true.
>>>
>>>**"non_dimensional" : boolean, optional**
>>>>Whether results should include nondimensional coefficients. Defaults to true.
>>>
>>>**"body_frame" : boolean, optional**
>>>>Whether to output results in the body-fixed frame. Defaults to true.
>>>
>>>**"stab_frame" : boolean, optional**
>>>>Whether to output results in the stability frame. Defaults to false.
>>>
>>>**"wind_frame" : boolean, optional**
>>>>Whether to output results in the wind frame. Defaults to true.
>>>
>>>**"verbose" : boolean, optional**
>>>>Defaults to false.
>>
>>**"display_wireframe" : dict, optional**
>>>Displays a wireframe of the geometry of the scene/aircraft.
>>>
>>>**"show_legend" : boolean, optional**
>>>>If set to true, a legend will be included with the wireframe detailing which color corresponds to which wing segment. Defaults to false.
>>>
>>>**"filename" : str, optional**
>>>>File to save an image of the wireframe to. If specified, the wireframe will not be automatically displayed. If not specified, the wireframe will display to the user, after which it can be manually saved.
>>
>>**"derivatives" : dict, optional**
>>>Calculates the stability, damping, and control derivatives at the current state.
>>>
>>>**"aircraft" : list, optional**
>>>>The aircraft to calculate the derivatives of. Defaults to all aircraft in the scene.
>>>
>>>**"filename" : string, optional**
>>>>File to store the results in. Defaults to the input filename + "_derivatives".
>>>
>>**"distributions" : dict, optional**
>>>Gives the distribution of various parameters across each lifting surface.
>>>
>>>**"filename" : string, optional**
>>>>File to store the results in. Defaults to the input filename + "_distributions".
>>>
>>>**"make_plots" : list, optional**
>>>>List of parameters to make plots of. A plot of the parameter as a function of span fraction for each wing segment will then be generated and saved. The following params can be listed for making plots: "cpx", "cpy", "cpz", "chord", "twist", "dihedral", "sweep", "area", "alpha", "Re", "M", "section_CL", "section_Cm", "section_parasitic_CD", and "section_aL0".
>>
>>**"pitch_trim" : dict, optional**
>>>Trims the aircraft in pitch. THIS SHOULD ONLY BE USED IN THE CASE OF ONE AIRCRAFT IN THE SCENE AND NO WIND. Trim is defined as a zero total pitching moment and the lift force equal to the weight of the aircraft.
>>>
>>>**"pitch_control" : str, optional**
>>>>The name of the control that should be used to trim in pitch. Defaults to "elevator".
>>>
>>>**"filename" : string, optional**
>>>>File to store the results in. Defaults to the input filename + "_pitch_trim".
>>>
>>>**set_trim_state : bool, optional**
>>>>If set to True, once trim is determined, the state of the aircraft will be set to this trim state. If False, the state of the aircraft will return to what it was before this method was called. Defaults to True.
>>>
>>>**verbose : bool, optional**
>>>>If set to true, information will be output about the progress of Newton's method. Defaults to False.
>>
>>**"target_CL" : dict, optional**
>>>Determines the angle of attack necessary to generate the specified lift coefficient. THIS SHOULD ONLY BE USED IN THE CASE OF ONE AIRCRAFT IN THE SCENE AND NO WIND.
>>>
>>>**"CL" : float**
>>>>The desired lift coefficient.
>>>
>>>**"filename" : string, optional**
>>>>File to store the results in. Defaults to the input filename + "_target_CL".
>>>
>>>**set_state : bool, optional**
>>>>If set to True, once the angle of attack is determined, the state of the aircraft will be set to that. If False, the state of the aircraft will return to what it was before this method was called. Defaults to False.
>>>
>>>**"control_state" : dict, optional**
>>>>Control deflections for determining the angle of attack. Defaults to no deflections.
>>>
>>>**verbose : bool, optional**
>>>>If set to true, information will be output about the progress of Newton's method. Defaults to False.
>>
>>**"aero_center" : dict, optional**
>>>Calculates the location of the aerodynamic center at the current state.
>>>
>>>**"aircraft" : list, optional**
>>>>The aircraft to calculate the aerodynamic centers of. Defaults to all aircraft in the scene.
>>>
>>>**"filename" : string, optional**
>>>>File to store the results in. Defaults to the input filename + "_aero_center".
>>>
>>>**"verbose" : boolean, optional**
>>>>Defaults to false
>>
>>**"MAC" : dict, optional**
>>>Calculates the mean aerodynamic chord of the aircraft.
>>>
>>>**"aircraft" : list, optional**
>>>>The aircraft to calculate the MAC of. Defaults to all aircraft in the scene.
>>>
>>>**"filename" : string, optional**
>>>>File to store the results in. Defaults to the input filename + "_MAC".
>>>
>>>**"verbose" : boolean, optional**
>>>>Defaults to false
>>
>>**"export_stl" : dict, optional"**
>>>Exports a 3D model of the aircraft/scene using the stl format.
>>>
>>>**"filename" : str, optional**
>>>>File to export the 3D model to. Defaults to the input filename with a ".stl" extension.
>>>
>>>**"section_resolution" : int, optional**
>>>>Number of points to use in discretizing the airfoil section outlines. Defaults to 200.
>>>
>>>**"aircraft" : str or list, optional**
>>>>Aircraft to include in the model. If only one aircraft is included, the model's origin will coincide with the body-fixed origin. If multiple aircraft are included, the model origin will coicide with the earth-fixed origin. Defaults to all aircraft in the scene.
>>>
>>>**"close_te" : bool, optional**
>>>>Whether ensure the trailing edge is sealed. Defaults to true.
>>
>>**"export_stp" : dict, optional"**
>>>Exports a STEP file describing each wing segment for the specified aircraft
>>>
>>>**"file_tag" : str, optional**
>>>>Tag to prepend to each .stp file. The filename will be output as "<TAG><AIRCRAFT_NAME>_<SEGMENT_NAME>.stp". Defaults to no tag.
>>>
>>>**"section_resolution" : int, optional**
>>>>Number of points to use in discretizing the airfoil section outlines. Defaults to 200.
>>>
>>>**"aircraft" : str or list, optional**
>>>>Aircraft to export .stp files for. Defaults to all aircraft in the scene.
>>>
>>>**"spline" : bool, optional**
>>>>Whether each section outline should be rendered as a spline. Defaults to False, in which case the sections will be rendered as polygons. Setting this parameter can help with importing the resulting STEP file into other CAD packages.
>>>
>>>**"maintain_sections" : bool, optional**
>>>>Whether the section outlines should be maintained in the loft of each wing segment. Defaults to True. This again can help with importing the resulting STEP file into other CAD packages.
>>>
>>>**"close_te" : bool, optional**
>>>>Whether ensure the trailing edge is sealed. Defaults to true.
>>
>>**"export_dxf" : dict, optional"**
>>>Exports a dxf file describing each wing segment for the specified aircraft
>>>
>>>**"file_tag" : str, optional**
>>>>Tag to prepend to each .dxf file. The filename will be output as "<TAG><AIRCRAFT_NAME>_<SEGMENT_NAME>.dxf". Defaults to no tag.
>>>
>>>**"section_resolution" : int, optional**
>>>>Number of points to use in discretizing the airfoil section outlines. Defaults to 200.
>>>
>>>**"aircraft" : str or list, optional**
>>>>Aircraft to export .dxf files for. Defaults to all aircraft in the scene.
>>>
>>>**"close_te" : bool, optional**
>>>>Whether ensure the trailing edge is sealed. Defaults to true.
>>>
>>>**"export_pylot_model" : dict, optional**
>>>>Creates a JSON object containing a linearized model of the aircraft to use as input for Pylot (www.github.com/usuaero/Pylot). Any information not available to MachupX but required for Pylot will be filled with "PLEASE SPECIFY" and must be changed by the user before the input can be used for Pylot. Note, this can only be used if there is one aircraft in the scene.
>>>>
>>>>We designed the input files for Pylot we designed to be cross-compatible with MachUpX. With this in mind, if values are already specified in the input but those values are not used in MachUpX, they will still be included in the input file exported here.
>>>>
>>>>**"filename" : str, optional**
>>>>>Name of the JSON file to write the model to. Must be ".json". Defaults to "<AIRCRAFT_NAME>_linearized.json".
>>>>
>>>>**"inertia" : dict, optional**
>>>>>Moments of inertia for the aircraft, formatted as
>>>>>
>>>>>>{
>>>>>>>"Ixx" : <VALUE>,
>>>>>>>"Iyy" : <VALUE>,
>>>>>>>"Izz" : <VALUE>,
>>>>>>>"Ixy" : <VALUE>,
>>>>>>>"Ixz" : <VALUE>,
>>>>>>>"Iyz" : <VALUE>
>>>>>>}
>>>>>
>>>>>If not specified, this will be left blank for the user to specify after the fact. Alternatively, if "inertia" was already part of the aircraft input, it will remain the same as inputted.
>>>>
>>>>**"angular_momentum" : list, optional**
>>>>>Angular momentum vector. Defaults to [0.0, 0.0, 0.0]. Alternatively, if "angular_momentum" was already part of the aircraft input, it will remain the same as inputted.
>>>>
>>>>**"stall_angle_of_attack" : float, optional**
>>>>>Angle of attack in degrees at which the aircraft stalls.
>>>>
>>>>**"stall_sideslip_angle" : float, optional**
>>>>>Sideslip angle in degrees at which the aircraft stalls laterally.
>>>>
>>>>**"controller_type" : str, optional**
>>>>>The controller that will be used with the exported model. Can be "keyboard", "joystick", "user_defined", or "time_sequence". This affects whether certain inputs unknown to MachUpX are marked "<PLEASE_SPECIFY>". If not given, all such keys will be marked "<PLEASE_SPECIFY>".
>>>>
>>>>**"velocity" : float, optional**
>>>>>Velocity at which to evaluate the model. Should not have any effect unless Mach and Reynolds
>>>>>number effects are included. Defaults to 100.
>>>>
>>>>**"set_accel_derivs" : bool, optional**
>>>>>Whether to set derivatives with respect to vertical and lateral acceleration to zero. Defaults to False, in which case the user must specify these.
>>>
>>>**"set_err_state" : dict, optional**
>>>>Describes how *custom* exceptions within MachUpX are to be handled. Each can be set to "raise", "warn", or "ignore".
>>>>
>>>>**"not_converged" : str, optional**
>>>>>Behavior for SolverNotConvergedError. Defaults to "raise".
>>>>
>>>>**"database_bounds" : str, optional**
>>>>>Behavior for DatabaseBoundsError. Defaults to "raise".
>
>**"solver" : dict, optional**
>>Specifies parameters regarding how the lifting-line equation is solved.
>>
>>**"type" : string, optional**
>>>Can be "linear", "nonlinear", or "scipy_fsolve". The lifing-line equations are solved first by solving a linear approximation and then improving the result using the full nonlinear equations and Newton's method. The linear approximation is reasonably accurate for high aspect ratio lifting surfaces at low angles of attack. Alternately, if "scipy_fsolve" is selected, the scipy.optimize.fsolve function is used to calculate the solution. **We recommend the "nonlinear" solver.** The "linear" solver should be used if speed is preferred over accuracy and tests have shown the accuracy is not significantly affected. Using "scipy_fsolve" is almost equivalent to using "nonlinear", except the "nonlinear" solver will more reliably converge and find the solution more quickly in most cases. We thus discourage using "scipy_fsolve". Defaults to "nonlinear".
>>
>>**"convergence" : float, optional**
>>>Threshold for convergence of the nonlinear solution. The nonlinear solver is considered complete once the norm of the residuals falls below this threshold. Defaults to 1e-10. Has no effect on the linear solver. Can also be used to specify the 'xtol' argument for scipy.optimize.fsolve, if that is the selected solver. Note, this is not the same behavior between the nolinear solver and the scipy solver.
>>
>>**"relaxation" : float, optional**
>>>Relaxation factor for applying the calculated correction at each iteration of the nonlinear solver. A value of 1.0 applies the full correction. Defaults to 1.0. Has no effect on the linear solver or the scipy solver.
>>
>>**"max_iterations" : int, optional**
>>>Maximum number of iterations for the nonlinear solver. Rare cases may be poorly behaved and prevent the nonlinear solver from fully converging to the desired tolerance. Defaults to 100. Has no effect on the linear solver or the scipy solver.
>>
>>**"use_swept_sections" : int, optional**
>>>Whether to include corrections to section properties and local velocities for sweep. It is highly recommended that this not be turned off, even for straight wings. Defaults to True.
>>
>>**"use_total_velocity" : int, optional**
>>>Whether to include induced velocities when redimensionalizing section coefficients. It is highly recommended that this not be turned off. Defaults to True.
>>
>>**"use_in_plane" : int, optional**
>>>Whether to use only the in-plane velocity for determining airfoil section behavior. It is highly recommended that this not be turned off. Defaults to True.
>>
>>**"match_machup_pro" : int, optional**
>>>Changes how miscelaneous other aspects of NLL are handled to match the nondimensional derivation used in MachUp Pro. Defaults to False. **If you desire to match MachUp Pro exactly, "use_swept_sections", "use_total_velocity", "use_in_plane", "reid_corrections", and "flap_edge_cluster" must be set to False along with setting this to True (not recommended).**
>
>**"units" : string, optional**
>>Specifies the unit system to be used for inputs and outputs. Can be "SI" or "English". Any units not explicitly defined for each value in the input objects will be assumed to be the default unit for that measurement in the system specified here. All outputs will be given in this unit system. Defaults to "English".
>
>**"scene" : dict**
>
>>**"atmosphere" : dict, optional**
>>>Specifies the atmosphere the aircraft exist in. If this dictionary is empty, the aircraft is assumed to be at sea-level in a standard Earth atmosphere. If you take the time to specify these keys, you can put your aircraft anywhere, even on Mars! Note that while viscosity and speed of sound are specified here, they will have no effect on computations unless the airfoil section properties are given as functions of Mach and Reynolds numbers. However, for many applications, it is appropriate to ignore Mach and Reynolds effects.
>>>
>>>**"rho" : float, array, or string, optional**
>>>>If a float, the atmospheric density is assumed constant. If an array is given, this is assumed to be either a density profile or a density field. MachUp will interpret a 2 column array as a profile where the first column is heights and the second column is densities. A 4 column array is a field where the first three columns are the position in earth-fixed coordinates and the fourth column is the density. MachUp will linearly interpolate these data. These arrays can alternatively be stored as a csv file, in which case, this value should be the path to the file. NOTE: Since MachUpX uses earth-fixed coordinates for position, altitude values should be negative (i.e. 1000 ft above sea level would be -1000 ft).
>>>>
>>>>If "rho" is a string, it is assumed the density is determined using an analytically defined atmosphere profile. The following profiles can be specified:
>>>>
>>>>>"standard" - Standard atmosphere profile.
>>>>
>>>>Defaults to density at sea-level.
>>>>
>>>**"V_wind" : vector, array, or string, optional**
>>>>If a vector is given, this is assumed to be the wind velocity vector given in earth-fixed coordinates which is constant throughout the scene. If an array is given, this is assumed to be either a wind profile or a wind field. MachUp will interpret a 4 column array as a velocity profile where the first column is heights and the last three columns are velocity components in earth-fixed coordinates. A 6 column array is a field where the first three columns are positions in earth-fixed coordinates and the fourth through sixth columns are velocity components in earth-fixed coordinates. These arrays can alternatively be stored as a csv file, in which case, this value should be the path to the file. Defaults to no wind.
>>>
>>>**"viscosity" : float or string**
>>>>*Kinematic* viscosity of the atmosphere. If a float, the viscosity is assumed to be constant. If a string, it is assumed the viscosity is determined using an analytically defined atmosphere profile. The following profiles can be specified:
>>>>
>>>>>"standard" - Standard atmosphere profile.
>>>>
>>>>Defaults to standard viscosity at sea-level.
>>>
>>>**"speed_of_sound" : float or string**
>>>>Speed of sound in the atmosphere. If a float, the speed of sound is assumed to be constant. If a string, it is assumed the speed of sound is determined using an analytically defined atmosphere profile. The following profiles can be specified:
>>>>
>>>>>"standard" - Standard atmosphere profile.
>>>>
>>>>Defaults to standard speed of sound at sea-level.
>>>
>>**"aircraft" : dict**
>>>Lists the aircraft to be placed in the scene. At least one must be specified. Please note that MachUpX is able to model interactions between multiple aircraft within the limitations of lifting-line theory. It is assumed the user understands these limitations and will use MachUpX appropriately. If importing more than one aircraft, simply repeat the following structure:
>>>
>>>**"<AIRPLANE_NAME>" : dict**
>>>
>>>>**"file" : string**
>>>>>Path to file containing the JSON object describing the aircraft.
>>>>
>>>>**"state" : dict**
>>>>>Describes the state of the aircraft.
>>>>>
>>>>>**"position" : vector, optional**
>>>>>>Position of the origin of the aircraft's body-fixed coordinate system in earth-fixed coordinates. Defaults to [0.0, 0.0, 0.0]
>>>>>
>>>>>**"velocity" : float or vector**
>>>>>>Velocity vector of the aircraft in body-fixed coordinates (i.e. u, v, and w) or magnitude of the freestream velocity at the origin of the aircraft. In the case of a vector, "alpha" and "beta" may not be specified.
>>>>>
>>>>>**"alpha" : float, optional**
>>>>>>Aerodynamic angle of attack. Defaults to 0.
>>>>>
>>>>>**"beta" : float, optional**
>>>>>>Aerodynamic sideslip angle. Defaults to 0. NOTE: MachUp defines this as the experimental sideslip angle, i.e. b = asin(Vy/V).
>>>>>
>>>>>**"orientation" : vector, optional**
>>>>>>Orientation of the aircraft, going from earth-fixed frame to body-fixed frame. If this is a 3-element vector it is assumed the ZYX Euler angle formulation is used (i.e. [psi, theta, phi]). If this is a 4-element vector it is assumed the quaternion formulation is used where the first element is the scalar (i.e. [e0, ex, ey, ez]). Defaults to [1.0, 0.0, 0.0, 0.0], which will align the body- fixed frame with the earth-fixed frame.
>>>>>
>>>>>**"angular_rates" : vector, optional**
>>>>>>Angular rates of the aircraft about the center of gravity, corresponding to p, q, and r. These are dimensional angular rates (rad/s). Defaults to [0.0, 0.0, 0.0].
>>>>>
>>>>>**"angular_rate_frame" : str, optional**
>>>>>>Frame in which the angular rates are given. Can be "body", "stab" (stability coordinates), or "wind". Defaults to "body".
>>>>
>>>>**"control_state" : dict, optional**
>>>>>Describes the control deflections. The number and names of controls are arbitrary and may be specified by the user. This is discussed more in depth as part of the aircraft object. If the aircraft has controls but no state is specified, all deflections will be assumed to be zero.
>>>>
>>>>>**"<CONTROL_NAME>" : float or array, optional**
>>>>>>Control setting. If float, the setting is assumed constant across the control surface. If an array, then a distribution of deflections is assumed. This should be specified like "chord_fraction". Defaults to 0.0.

## Aircraft Object
Describes an aircraft. Stored as a .json file or a Python dictionary.

>**"CG" : vector, optional**
>>Location of the aircraft's center of gravity in body-fixed coordinates. Defaults to [0.0, 0.0, 0.0], as the origin of the body-fixed coordinate system is typically the aircraft's center of gravity.
>
>**"weight" : float**
>>Weight of the aircraft.
>
>**"reference" : dict, optional**
>>Specifies the reference lengths and areas used for nondimensional analysis. Any or none of these may be specified. If not specified, MachUp will select appropriate values based on the geometry of the main wing.
>
>>**"area" : float, optional**
>>>The reference area. Defaults to the main wing planform area.
>>
>>**"longitudinal_length" : float, optional**
>>>Longitudinal reference length. Defaults to the reference area divided by the lateral reference length.
>>
>>**"lateral_length" : float, optional**
>>>Lateral reference length. Defaults to the main wing span.
>
>**"controls" : dict, optional**
>>Defines the controls of the aircraft. The number and names of controls are arbitrary and may be specified by the user. A simple aircraft, such as a chuck glider may have no controls, whereas a more complex aircraft may have controls for aileron, elevator, rudder, and multiple flaps. Defining the controls here can be thought of as deciding which control knobs/switches/sticks you want to make available to the pilot.
>
>>**"<CONTROL_NAME>" : dict**
>>
>>>**"is_symmetric" : bool**
>>>>Specifies whether this control causes symmetric or asymmetric control surface deflections (e.g. for a typical aircraft, the elevator control causes symmetric deflections whereas the aileron causes asymmetric deflections).
>
>**"airfoils" : dict or str**
>>Defines the airfoils used on the aircraft. Any number of airfoils can be defined for the aircraft and MachUpX will pull from these airfoil definitions as needed, depending on which airfoils are specified for each wing segment. If no airfoils are listed here MachUp will automatically generate a default airfoil and use it on all lifting surfaces. The default values listed are for a flat plate as predicted by thin airfoil theory. Do not expect these to give you accurate results.
>>
>>This may also be the path to a JSON object containing the airfoils.
>>
>>MachUpX uses the AirfoilDatabase package ([link](https://www.github.com/usuaero/AirfoilDatabase)) to calculate section properties. This package allows for generating nonlinear coefficient databases for a given airfoil. It's full capabilities are explained in the [documentation](https://airfoildatabase.readthedocs.io/en/latest/). Please note that MachUpX does not have the capability to generate these databases. It can only read in a previously generated database.
>>
>>The input for a single airfoil has the following structure:
>
>>**"<AIRFOIL_NAME>" : dict or str**
>>>Input for a given airfoil. As a dictionary, it should have the following keys. If this is a string, it should be the path to a JSON object containing the same information. The name of the airfoil should not be repeated in the file; only the coefficients and geometry information should be listed.
>>
>>>**"type" : string**
>>>>The type of data used to calculate section properties for the airfoil. Can be "linear", "database", or "poly_fit". For a "database" or "poly_fit" airfoil, "input_file" must be specified. A "linear" airfoil assumes linear lift and moment curves and a quadratic drag polar. In this case, the following keys must be defined. UNITS MAY NOT BE SPECIFIED BY THE USER FOR ANY AIRFOIL PARAMETERS. THESE VALUES MUST BE SPECIFIED IN THE UNITS GIVEN HERE.
>>>
>>>**"aL0" : float, optional**
>>>>The zero-lift angle of attack in radians. Defaults to 0.0.
>>>
>>>**"CLa" : float, optional**
>>>>The lift slope in radians^-1. Defaults to 2pi
>>>
>>>**"am0" : float, optional**
>>>>The zero-moment angle of attack in radians. Defaults to 0.0.
>>>
>>>**"Cma" : float, optional**
>>>>The moment slope in radians^-1. Defaults to 0.0.
>>>
>>>**"CD0" : float, optional**
>>>>Constant coefficient in the quadratic fit of the CD/CL curve. MachUpX assumes section drag is modelled by 
>>>>
>>>>CD = CD0 + CD1\*CL + CD2\*CL^2
>>>>
>>>>Defaults to 0.0.
>>>
>>>**"CD1" : float, optional**
>>>>Linear coefficient in the quadratic fit of the CD/CL curve. Defaults to 0.0.
>>>
>>>**"CD2" : float, optional**
>>>>Quadratic coefficient in the quadratic fir of the CD/CL curve. Defaults to 0.0.
>>>
>>>**"CL_max" : float, optional**
>>>>Maximum lift coefficient. Defaults to infinity.
>>>
>>>**"input_file" : str, optional**
>>>>File containing the coefficient database or polynomial fit information for the airfoil. Required if "type" is "database" or "poly_fit".
>>>
>>>**"geometry" : dict, optional**
>>>>Describes the geometry of the airfoil.
>>>>
>>>>**"outline_points" : str or array, optional**
>>>>>Path to a file containing airfoil outline points or array of outline points. The first column contains x-coordinates and the second column contains y-coordinates, where x originates at the leading edge and points back along the chord line and y points up. If a file, it should be comma-delimited. The trailing edge should be sealed and points should be listed starting at the trailing edge. The geometry specified here will only be used in generating 3D models and will not affect the aerodynamics. Cannot be specified along with "NACA".
>>>>
>>>>**"NACA" : str, optional**
>>>>>NACA designation for the airfoil. If given, MachUpX will automatically generate outline points using the NACA equations. Can only be NACA 4-digit series. Cannot be specified along with "outline_points". Will not affect aerodynamics.
>>>>
>>>>**"max_camber" : float, optional**
>>>>>Maximum camber of the airfoil as a fraction of the chord. Can be specified if "outline_points" and "NACA" are not specified. If these are specified, the max camber will be automatically determined. Required for making corrections to section properties based on sweep. Defaults to 0.0.
>>>>
>>>>**"max_thickness" : float, optional**
>>>>>Maximum thickness of the airfoil as a fraction of the chord. Can be specified if "outline_points" and "NACA" are not specified. If these are specified, the max camber will be automatically determined. Required for making corrections to section properties based on sweep. Defaults to 0.0.
>
>**"wings" : dict**
>>Gives the lifting surfaces for the aircraft. Wings, stabilizers, fins, etc. are all treated the same in numerical lifting-line and so should be included here as wing segments. MachUp is set up so the user can define complex geometries by attaching the ends of different wing segments together (for an example, see the examples/ directory). The user can define any number of wing segments within this dict. Note that each wing segment can only have one control surface, therefore, a wing with multiple control surfaces must be created from multiple wing segments.
>
>>**"<WING_SEGMENT_NAME>" : dict**
>>
>>>**"ID" : uint**
>>>>ID tag of the wing segment, used for specifying which other wing segments are defined relative to it. MAY NOT BE 0.
>>>
>>>**"is_main" : bool**
>>>>Specifies whether this wing segment is part of the main wing (used for determining reference lengths and areas).
>>>
>>>**"side" : string**
>>>>May be "right", "left", or "both". Defines which side(s) of the aircraft the wing segment appears on. If "both", the wing segment will be mirrored across the x-z plane.
>>>
>>>**"connect_to" : dict**
>>>>Places the origin for the wing segment. This can be defined relative to the aircraft's body-fixed origin, or the root or tip of any other wing segment.
>>>>
>>>>**"ID" : uint, optional**
>>>>>ID of the wing segment this wing segment's origin is being defined relative to. If 0, this wing segment's origin will be defined relative to the aircraft's body-fixed origin. Defaults to 0.
>>>>
>>>>**"location" : string, optional**
>>>>>May be "root" or "tip". Defines whether this wing segment's origin should be defined relative to the root or tip of the other wing segment. Defaults to "tip"
>>>>
>>>>**"dx" : float, optional**
>>>>>Displacement of the origin from the selected reference point in the body-fixed x- direction. Defaults to 0.
>>>>
>>>>**"dy" : float, optional**
>>>>>Displacement of the origin from the selected reference point in the body-fixed y- direction. NOTE: If "side" is specified as "both", changing this value will shift both sides of the wing segment in the SAME direction. The effect is not mirrored. Defaults to 0.
>>>>
>>>>**"dz" : float, optional**
>>>>>Displacement of the origin from the selected reference point in the body-fixed z- direction. Defaults to 0.
>>>>
>>>>**"y_offset" : float, optional**
>>>>>Distance the origin should be shifted from the centerline (positive offset corresponds to outward from the x-z plane). If "side" is specified as "both", this effect is mirrored. Defaults to 0.
>>>
>>>**"semispan" : float**
>>>>Length of the wing segment in the y-direction (i.e. discounting sweep). If "side" is specified as "both", the total span of the segment is twice this value. May not be specified if "quarter_chord_locs" is specified.
>>>
>>>**"twist" : float, array, string, or func, optional**
>>>>Gives the **geometric** twist of the wing, meaning the angle of the chord line of each airfoil section relative to the body x-axis. If specified as a float, then all sections will make that angle with the horizontal and it will be as if the wing is untwisted but mounted at that angle. If specified as an array, the array gives the local twist as a function of span. The first column gives the span location as a fraction of the total span. This column must have values going from 0.0 to 1.0. The second column gives the twist at that span location. If specified as a string, this string must contain the path to a csv file containing the twist data formatted in columns, as with the array. For properties as a function of span, MachUp will linearly interpolate intermediate values. If a step change in distribution is needed, this can be done by specifying the span location where the step change occurs twice, once with each value, as below:
>>>>
>>>>>**"twist" : [[0.0, 0.0], [0.5, 0.0], [0.5, 2.0], [1.0, 2.0]]**
>>>>
>>>>In the above example, the twist will be 0 degrees for the inner half of the wing and 2 degrees for the outer half of the wing. Note that this parameter also determines the mounting angle and washout of the wing segment. Defaults to 0.
>>>>
>>>>Alternatively, if MachUpX is being used as a module imported into a script, this value can be a function which accepts an array of span fractions and returns the corresponding twist angles *in radians*.
>>>
>>>**"dihedral" : float, array, string, or func optional**
>>>>Gives the dihedral of the wing segment. Defined the same as "twist". If defined as a distribution, this specifies the local dihedral angle at each point along the wing. Defaults to 0.
>>>
>>>**"shear_dihedral" : bool, optional**
>>>>Whether the dihedral should be viewed as a solid-body rotation (standard) or a shear transformation (nonstandard), similar to sweep, for the purpose of exporting 3D models. Has no effect on aerodynamics. Defaults to False, corresponding to a solid-body rotation.
>>>
>>>**"sweep" : float, array, string, or func optional**
>>>>Gives the sweep angle of the wing segment. Sweeping the wing is a shear transformation, rather than a solid-body rotation. This means the amount of sweep will not affect the distance of the wingtip from thex-z plane. Defined the same as "twist". Defaults to 0.
>>>
>>>**"chord" : float, array, string, or func optional**
>>>>Gives the chord length of the wing segment. Defined the same as "twist", except that it can also be specified as elliptic using the following definition:
>>>
>>>>>**"chord" : ["elliptic", 1.0]**
>>>
>>>>Where the second list element is the root chord length. Units can be specified using:
>>>
>>>>>**"chord" : ["elliptic", 1.0, "ft"]**
>>>
>>>>Defaults to 1.0.
>>>
>>>**"quarter_chord_locs" : array or string, optional**
>>>>Gives locations of the wing quarter chord **relative to the wing root**, as opposed to relative to the aircraft origin. The first column should be body-x coordinates, the second column should be body-y coordinates, and the third column should be body-z coordinates. MachUpX will linearly interpolate between the given points to determine the locations of control points and vortex nodes. Points should be given progressing from root to tip. If only one point is given, this will be taken as the tip location relative to the root, and the wing will be straight. Not that the corresponding span fraction for each point *does not* need to be specified here. MachUpX will automatically calculate that from the point locations.
>>>>
>>>>If "quarter_chord_locs" is given, "sweep", "dihedral", and "semispan" may not be specified.
>>>>
>>>>These locations should only be given for the *right* half of the wing and MachUpX will mirror them for the left half, *even for a wing where "side" is "left"*.
>>>
>>>**"ac_offset" : float, array, string, or func optional**
>>>>Gives the offset of the section aerodynamic center from the quarter chord. By default, MachUpX assumes the locus of aerodynamic centers for a given wing segment falls on the quarter chord line. This allows shifting the locus along the chord line for greater accuracy. This shift is given as a fraction of the chord. A positive value puts the local aerodynamic center behind the quarter chord. Defined the same as "twist", except that it may also be specified as "kuchemann" *for wings of constant sweep, including zero sweep*, in which case the locus of aerodynamic centers will be specified using Kuchemann's equations. Specifying "kuchemann" for a wing segment with variable sweep will result in an error. If Kuchemann's equations are selected, the user should ensure the number of control points for this wing is large enough to capture the nonlinear locus of aerodynamic centers at the wing root and tips. MachUpX will cosine cluster these points by default, but a very small number of control points may still fail to sufficiently capture Kuchemann's correction. Defaults to 0.
>>>
>>>**"airfoil" : string or array, optional**
>>>>Gives the section airfoil(s) of the wing segment. Can be the name of any airfoil defined under "airfoils" within the parent aircraft object, in which case the section properties will be constant across the span. If specified as an array, the array gives the airfoil as a function of span. The first column gives the span location, as with "twist", and the second column gives the name of the airfoil at that location. MachUpX will interpolate airfoil properties between the given points. Can also be the path to a csv file containing the airfoil distribution formatted in columns, as with the array. Defaults to the name of the first airfoil listed under "airfoils". Cannot have units.
>>>
>>>**"grid" : dict, optional**
>>>>Describes the distribution of control points along the wing and certain corrections to the structure of the grid.
>>>>
>>>>**"N" : int, optional**
>>>>>Number of horseshoe vortices used to model the wing segment in the numerical lifting-line algorithm. This is the number of horseshoe vortices per semispan. Defaults to 40.
>>>>
>>>>**"distribution" : str or list, optional**
>>>>>Specifies how vortex nodes and control points are to be distributed along the wing segment. Can be "linear", "cosine_cluster", or a list of span locations. "linear" will distribute the control points and vortex nodes evenly along the span. "cosine_cluster" will implement traditional cosine clustering, where points are spaced evenly in theta causing them to cluster at the tips of each segment. If this is a list, it must be an ordered list of span locations of length 2N+1 explicitly giving the span fraction location of each vortex node and control point. Should be arranged as ```[node_0_loc, cp_0_loc, node_1_loc, cp_1_loc,..., node_N_loc, cp_N_loc, node_N+1_loc]```. Defaults to "cosine_cluster".
>>>>
>>>>**"flap_edge_cluster" : bool, optional**
>>>>>If true, control points will be clustered around the edges of control surfaces. Can only be used if "distribution" is "cosine_cluster". Defaults to True.
>>>>
>>>>**"cluster_points" : list, optional**
>>>>>If extra clustering is desired (for example at a sharp change in geometry) the user can specify a list of additional span fractions here about which control points should be clustered. Can only be used is "distribution" is "cosine_cluster". Defaults to no extra clustering.
>>>>
>>>>**"reid_corrections" : bool, optional**
>>>>>Whether to apply corrections to this wing segment to implement the general approach to lifting-line developed by Reid (Reid, et al. "A General Approach to Lifting-Line Theory, Applied to Wings with Sweep," *AIAA SciTech Forum*, 2020.). For those not familiar with the general implementation of numerical lifting-line, it is highly recommended to read the paper. These analytic corrections increase accuracy and ensure grid convergence for swept wings and wings in sideslip but may cause unexpected behavior for the uninformed user. Defaults to True.
>>>>
>>>>**"joint_length" : float, optional**
>>>>>The non-dimensional joint lengths to be used in the Reid corrections. Defaults to 0.15. Note that any joint length less than the default is considered by Reid to be numerically sensitive.
>>>>
>>>>**"blending_distance" : float, optional**
>>>>>The non-dimensional AC-locus blending distance to be used in the Reid corrections. Defaults to 0.25. Note that any blending distance less than the default is considered by Reid to be numerically sensitive.
>>>>
>>>>**"wing_ID" : int, optional**
>>>>>ID of the wing this wing segment belongs to. This is only needed if the Reid corrections are being used. This is not the same as the ID of the wing segment that this wing segment connects to. Rather, this parameter is used to group wing segments into contiguous wings that share a single locus of aerodynamic centers. This is required for the general implementation of numerical lifting-line. If this is not specified, MachUpX will assume this wing segment is isolated in space, except from its mirror image if the two halves are contiguous. Must be positive and should start at 0. Defaults to None.
>>>
>>>**"control_surface" : dict, optional**
>>>>Defines a control surface on the trailing edge of the wing segment. The flap aerodynamics are determined by the airfoil type given for the wing segment. A "linear" airfoil will use Phillips' approximations for trailing-edge flaps (Mechanics of Flight, ed. 2, Ch. 1.7).
>>>
>>>>**"root_span" : float, optional**
>>>>>The span location, as a fraction of total span, where the control surface begins. Defaults to 0.0.
>>>
>>>>**"tip_span" : float, optional**
>>>>>The span location, as a fraction of total span, where the control surface ends. Defaults to 1.0.
>>>
>>>>**"chord_fraction" : float, array, or string, optional**
>>>>>The depth of the control surface, as a fraction of the local chord length. Defined the same as "twist". If an array or file is specified, however, the start and end of the data must coincide with "root_span" and "tip_span", respectively. Defaults to 0.25.
>>>
>>>>**"is_sealed" : bool, optional**
>>>>>Whether or not the flap is sealed. Affects the effectiveness of the flap. Defaults to true.
>>>
>>>>**"control_mixing" : dict**
>>>>>Determines which control inputs move this control surface. A control surface can be affected by any number of controls.
>>>>>
>>>>>**"<CONTROL_NAME>" : float**
>>>>>>Linearly maps the control deflection to the control surface deflection. The control deflection will be multiplied by this value and then applied to the control surface.
